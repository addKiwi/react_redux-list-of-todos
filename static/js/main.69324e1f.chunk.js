(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n,s=c(5),o=c.n(s),r=c(2),d=c(0),i=c.n(d),l=(c(22),c(23),c(12)),a=(c(24),c(7)),u=c.n(a);!function(e){e.AddTodos="AddTodos",e.AddUser="AddUser",e.SetSelectedUserId="SetSelectedUserId",e.DeleteTodo="DeleteTodo"}(n||(n={}));var j=function(e){return{type:n.AddTodos,payload:e}},b=function(e){return{type:n.SetSelectedUserId,payload:e}},O=function(e){return{type:n.AddUser,payload:e}},p=function(e){return{type:n.DeleteTodo,payload:e}},h=function(e){return e.todos},f=function(e){return e.selectedUserId},m=function(e){return e.user},v="https://mate.academy/students-api";function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat(v).concat(e),t).then((function(e){return e.json()}))}var _=c(1),y=i.a.memo((function(e){var t=e.todos,c=p,n=b,s=Object(d.useState)(""),o=Object(l.a)(s,2),i=o[0],a=o[1],j=Object(d.useState)("all"),O=Object(l.a)(j,2),h=O[0],m=O[1],v=Object(r.c)(f),y=Object(r.b)(),N=Object(d.useMemo)((function(){return t.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})).filter((function(e){switch(h){case"active":return!1===e.completed;case"completed":return!0===e.completed;default:return e}}))}),[i,t,h]),T=function(e){(function(e){return x("todos/".concat(e),{method:"DELETE"})})(e).then((function(){return y(c(e))}))};return Object(_.jsxs)("div",{className:"TodoList",children:[Object(_.jsx)("h2",{children:"Todos:"}),Object(_.jsxs)("div",{className:"filter",children:[Object(_.jsx)("input",{type:"text",className:"filter__input",value:i,onChange:function(e){return a(e.target.value)}}),Object(_.jsxs)("select",{className:"filter__input",value:h,onChange:function(e){return m(e.target.value)},children:[Object(_.jsx)("option",{value:"all",children:"all"}),Object(_.jsx)("option",{value:"active",children:"active"}),Object(_.jsx)("option",{value:"completed",children:"completed"})]})]}),Object(_.jsx)("div",{className:"TodoList__list-container",children:Object(_.jsx)("ul",{className:"TodoList__list",children:N.map((function(e){return Object(_.jsxs)("li",{className:u()("TodoList__item",{"TodoList__item--unchecked":!e.completed},{"TodoList__item--checked":e.completed}),children:[Object(_.jsxs)("label",{children:[Object(_.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(_.jsx)("p",{children:e.title})]}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("button",{className:u()({"TodoList__user-button--selected":e.userId===v},"button","TodoList__user-button"),type:"button",onClick:function(){return t=e.userId,y(n(t));var t},children:["User\xa0#",e.userId]}),Object(_.jsxs)("button",{className:u()("button","TodoList__user-button"),type:"button",onClick:function(){return T(e.userId)},children:["Delete\xa0#",e.userId]})]})]},e.id)}))})})]})})),N=(c(26),c(27),function(){var e=O,t=b,c=Object(r.c)(m),n=Object(r.c)(f),s=Object(r.b)();return Object(d.useEffect)((function(){var t;(t=n,x("/users/".concat(t))).then((function(t){return s(e(t))}))}),[n]),Object(_.jsx)("div",{className:"CurrentUser",children:c?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{className:"CurrentUser__title",children:Object(_.jsxs)("span",{children:["Selected user:\xa0",null===c||void 0===c?void 0:c.id]})}),Object(_.jsx)("h3",{className:"CurrentUser__name",children:null===c||void 0===c?void 0:c.name}),Object(_.jsx)("p",{className:"CurrentUser__email",children:null===c||void 0===c?void 0:c.email}),Object(_.jsx)("p",{className:"CurrentUser__phone",children:null===c||void 0===c?void 0:c.phone}),Object(_.jsx)("button",{className:"CurrentUser__clear TodoList__user-button--selected button",type:"button",onClick:function(){return s(t(0))},children:"Clear"})]}):Object(_.jsxs)("div",{className:"lds-ripple",children:[Object(_.jsx)("div",{}),Object(_.jsx)("div",{})]})})}),T=function(){var e=Object(r.c)(h),t=Object(r.c)(f),c=Object(r.b)();return Object(d.useEffect)((function(){x("/todos").then((function(e){return c(j(e))}))}),[]),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("div",{className:"App__sidebar",children:Object(_.jsx)(y,{todos:e})}),Object(_.jsx)("div",{className:"App__content",children:Object(_.jsx)("div",{className:"App__content-container",children:t?Object(_.jsx)(N,{}):"No user selected"})})]})},U=c(11),C=c(3),I=c(9),L=c(14),A={todos:[],selectedUserId:0,user:null},S=Object(I.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.AddTodos:return Object(C.a)(Object(C.a)({},e),{},{todos:[].concat(Object(U.a)(e.todos),Object(U.a)(t.payload))});case n.SetSelectedUserId:return Object(C.a)(Object(C.a)({},e),{},{selectedUserId:t.payload});case n.AddUser:return Object(C.a)(Object(C.a)({},e),{},{user:t.payload});case n.DeleteTodo:return Object(C.a)(Object(C.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload}))});default:return e}}),Object(L.composeWithDevTools)());o.a.render(Object(_.jsx)(r.a,{store:S,children:Object(_.jsx)(T,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.69324e1f.chunk.js.map